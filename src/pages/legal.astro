---
// Legal page with Impressum and Datenschutz sections
// Static content page with anchor navigation
export interface Props {
  class?: string;
}

const { class: className } = Astro.props;

// Import layout and components
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/header.tsx';
import SimpleFooter from '../components/simple-footer.tsx';
---

<BaseLayout>
  <!-- SVG Filters for header animations -->
  <svg style="position: absolute; width: 0; height: 0; pointer-events: none;">
    <defs>
      <filter id="gooey-filter" x="-50%" y="-50%" width="200%" height="200%">
        <feGaussianBlur in="SourceGraphic" stdDeviation="4" result="blur" />
        <feColorMatrix
          in="blur"
          mode="matrix"
          values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9"
          result="goo"
        />
        <feComposite in="SourceGraphic" in2="goo" operator="atop" />
      </filter>
    </defs>
  </svg>

  <!-- Use exact same header as main site -->
  <div class="bg-slate-900">
    <Header client:load />
  </div>
  
  <!-- Legal Content -->
  <main class={`min-h-screen bg-slate-50 text-slate-900 py-16 lg:py-24 ${className || ''}`}>
    <div class="max-w-4xl mx-auto px-6 lg:px-8">
      
      <!-- Page Header -->
      <header class="text-center mb-16">
        <h1 class="text-4xl lg:text-5xl font-light mb-4 tracking-tight leading-tight text-slate-900">
          Impressum & Datenschutz
        </h1>
        <p class="text-slate-600 text-lg">
          Rechtliche Informationen und Datenschutzbestimmungen der Falx GmbH
        </p>
        
        <!-- Quick Navigation -->
        <nav class="mt-8 flex justify-center gap-6">
          <a href="#impressum" class="text-red-600 hover:text-red-700 font-medium transition-colors duration-200">
            → Impressum
          </a>
          <a href="#datenschutz" class="text-red-600 hover:text-red-700 font-medium transition-colors duration-200">
            → Datenschutz
          </a>
        </nav>
      </header>

      <!-- Impressum Section -->
      <section id="impressum" class="mb-16 scroll-mt-24">
        <div class="bg-white rounded-2xl p-8 lg:p-12 shadow-sm border border-slate-200">
          <h2 class="text-3xl font-light mb-8 text-slate-900 border-b border-slate-200 pb-4">
            Impressum
          </h2>
          
          <div class="prose prose-lg prose-slate max-w-none">
            <div class="space-y-6 text-slate-700">
              <p class="font-medium text-lg">Angaben gemäss Art. 3 Abs. 1 lit. s UWG</p>
              
              <div>
                <p><strong>Falx GmbH</strong><br />
                Gussstrasse 6<br />
                8180 Bülach<br />
                Schweiz</p>
              </div>

              <div>
                <p><strong>Kontakt:</strong><br />
                E-Mail: <span id="email-address" class="text-red-600">
                  <noscript>Bitte JavaScript aktivieren, um die E-Mail-Adresse zu sehen</noscript>
                </span></p>
              </div>

              <div>
                <p><strong>Vertretungsberechtigte Person(en):</strong><br />
                Christopher Kobler</p>
              </div>

              <div>
                <p><strong>Handelsregistereintrag:</strong><br />
                Eingetragener Firmenname: Falx GmbH<br />
                Unternehmens-Identifikationsnummer (UID): CHE-330.745.750</p>
              </div>

              <div>
                <p><strong>Haftungsausschluss:</strong><br />
                Der Autor übernimmt keinerlei Gewähr hinsichtlich der inhaltlichen Richtigkeit, Genauigkeit, Aktualität, Zuverlässigkeit und Vollständigkeit der Informationen. Haftungsansprüche gegen den Autor wegen Schäden materieller oder immaterieller Art, welche aus dem Zugriff oder der Nutzung bzw. Nichtnutzung der veröffentlichten Informationen, durch Missbrauch der Verbindung oder durch technische Störungen entstanden sind, werden ausgeschlossen. Alle Angebote sind unverbindlich.</p>
              </div>

              <div>
                <p><strong>Haftungsausschluss für Links:</strong><br />
                Verweise und Links auf Webseiten Dritter liegen ausserhalb unseres Verantwortungsbereichs. Es wird jegliche Verantwortung für solche Webseiten abgelehnt. Der Zugriff und die Nutzung solcher Webseiten erfolgen auf eigene Gefahr des jeweiligen Nutzers.</p>
              </div>
            </div>

            <script>
              // Email obfuscation protection
              document.addEventListener('DOMContentLoaded', function() {
                const emailElement = document.getElementById('email-address');
                if (emailElement) {
                  // Encoded email: legal@falx.ch
                  const user = 'legal';
                  const domain = 'falx.ch';
                  const email = user + '@' + domain;
                  
                  emailElement.innerHTML = '<a href="mailto:' + email + '" class="text-red-600 hover:text-red-700 transition-colors">' + email + '</a>';
                }
              });
            </script>
          </div>
        </div>
      </section>

      <!-- Datenschutz Section -->
      <section id="datenschutz" class="mb-16 scroll-mt-24">
        <div class="bg-white rounded-2xl p-8 lg:p-12 shadow-sm border border-slate-200">
          <h2 class="text-3xl font-light mb-8 text-slate-900 border-b border-slate-200 pb-4">
            Datenschutz
          </h2>
          
          <div class="prose prose-lg prose-slate max-w-none">
            <div class="space-y-6 text-slate-700">
              <p class="font-medium text-lg">Datenschutzerklärung</p>
              <p class="text-sm text-slate-600 italic">Version vom 31.8.2025</p>
              
              <p>Wir freuen uns über Ihr Interesse an unserer Website. Der Schutz Ihrer Privatsphäre ist für uns sehr wichtig. Nachstehend informieren wir Sie ausführlich über den Umgang mit Ihren Daten.</p>

              <div>
                <h3 class="text-xl font-semibold text-slate-900 mb-3">1. Verantwortliche Stelle</h3>
                <p>Verantwortlich für die Datenverarbeitung auf dieser Website im Sinne des Bundesgesetzes über den Datenschutz (DSG) ist:</p>
                <p class="mt-3">
                  <strong>Falx GmbH</strong><br />
                  Vertreten durch: Christopher Kobler<br />
                  Gussstrasse 6, 8180, Bülach<br />
                  Schweiz
                </p>
                <p class="mt-3">
                  E-Mail: <span id="legal-email-address" class="text-red-600">
                    <noscript>Bitte JavaScript aktivieren, um die E-Mail-Adresse zu sehen</noscript>
                  </span><br />
                  Website: https://falx.ch
                </p>
              </div>

              <div>
                <h3 class="text-xl font-semibold text-slate-900 mb-3">2. Erfassung von allgemeinen Daten und Informationen (Server-Logfiles)</h3>
                <p>Unsere Website wird bei Netlify, Inc., 44 Montgomery Street, Suite 300, San Francisco, California 94104, USA (nachfolgend "Netlify") gehostet.</p>
                <p class="mt-3">Bei jedem Zugriff auf unsere Website erfasst der Server von Netlify automatisch eine Reihe von allgemeinen Daten und Informationen, die in Logfiles gespeichert werden. Erfasst werden können:</p>
                <ul class="mt-3 list-disc list-inside space-y-1">
                  <li>die verwendete Browser-Typen und Versionen,</li>
                  <li>das vom zugreifenden System verwendete Betriebssystem,</li>
                  <li>die Internetseite, von welcher ein zugreifendes System auf unsere Seite gelangt (sogenannte Referrer),</li>
                  <li>die Unterwebseiten, welche über ein zugreifendes System auf unserer Internetseite angesteuert werden,</li>
                  <li>das Datum und die Uhrzeit eines Zugriffs auf die Internetseite,</li>
                  <li>eine Internet-Protokoll-Adresse (IP-Adresse),</li>
                  <li>der Internet-Service-Provider des zugreifenden Systems.</li>
                </ul>
                <p class="mt-3">Diese Daten sind für uns nicht bestimmten Personen zuordenbar. Die Erhebung dieser Daten ist technisch erforderlich, um Ihnen unsere Website anzuzeigen und deren Stabilität und Sicherheit zu gewährleisten.</p>
              </div>

              <div>
                <h3 class="text-xl font-semibold text-slate-900 mb-3">3. E-Mail-Versand via Resend</h3>
                <p>Für den Versand von E-Mails, wie beispielsweise Berichte oder andere Korrespondenz, nutzen wir den Dienst "Resend" der Resend, Inc., 548 Market St PMB 98451, San Francisco, CA 94104-5401, USA.</p>
                <p class="mt-3">Wenn wir Ihnen eine E-Mail senden, werden die hierfür erforderlichen Daten (z.B. Ihre E-Mail-Adresse, Name und der Inhalt der Nachricht) an die Server von Resend in den USA übermittelt. Resend agiert dabei als unser Auftragsverarbeiter und verwendet diese Informationen ausschliesslich, um die E-Mails in unserem Auftrag zu versenden und die Zustellbarkeit sicherzustellen.</p>
                <p class="mt-3">Die Datenübermittlung in die USA ist durch entsprechende Datenschutzgarantien, wie die Anwendung von Standardvertragsklauseln, abgesichert, um ein angemessenes Schutzniveau zu gewährleisten. Weitere Informationen zum Datenschutz bei Resend finden Sie unter: <a href="https://resend.com/privacy" target="_blank" rel="noopener noreferrer" class="text-red-600 hover:text-red-700 underline">https://resend.com/privacy</a></p>
              </div>

              <div>
                <h3 class="text-xl font-semibold text-slate-900 mb-3">4. Terminvereinbarung über Calendly</h3>
                <p>Wir bieten Ihnen die Möglichkeit, über unsere Website Termine mit uns zu vereinbaren. Hierfür nutzen wir den Dienst "Calendly", angeboten von Calendly LLC, 271 17th St NW, Ste 1000, Atlanta, GA 30363, USA.</p>
                <p class="mt-3">Wenn Sie einen Termin buchen, werden Sie auf die Website von Calendly weitergeleitet (oder es wird ein entsprechendes Modul geladen). Dort können Sie Ihre Kontaktdaten (wie Name, E-Mail-Adresse) und Termindetails eingeben. Für die Datenverarbeitung auf der Plattform von Calendly ist Calendly selbst verantwortlich. Weitere Informationen finden Sie in der Datenschutzerklärung von Calendly: <a href="https://calendly.com/privacy" target="_blank" rel="noopener noreferrer" class="text-red-600 hover:text-red-700 underline">https://calendly.com/privacy</a>.</p>
                <p class="mt-3">Die von Ihnen bei Calendly eingegebenen Daten werden an uns übermittelt. Wir verarbeiten diese Daten ausschliesslich zum Zweck der Terminplanung, -durchführung und für die damit verbundene Kommunikation (z.B. Bestätigungen oder Erinnerungen).</p>
              </div>

              <div>
                <h3 class="text-xl font-semibold text-slate-900 mb-3">5. Web-Analyse mit Netlify Analytics</h3>
                <p>Wir nutzen auf unserer Website Netlify Analytics. Dies ist ein Webanalysedient von Netlify, Inc. Netlify Analytics verwendet keine Cookies und erfasst keine persönlichen Daten, die eine direkte Identifizierung des Nutzers ermöglichen. Es werden anonymisierte Daten wie die Anzahl der Seitenaufrufe, die Herkunftsseiten und die verwendeten Browser analysiert, um die Nutzung unserer Website auszuwerten und Reports über die Websiteaktivitäten zusammenzustellen. Die erfassten IP-Adressen werden dabei anonymisiert.</p>
              </div>

              <div>
                <h3 class="text-xl font-semibold text-slate-900 mb-3">6. Ihre Rechte</h3>
                <p>Sie haben im Rahmen der geltenden gesetzlichen Bestimmungen jederzeit das Recht auf unentgeltliche Auskunft über Ihre gespeicherten personenbezogenen Daten, deren Herkunft und Empfänger und den Zweck der Datenverarbeitung und ggf. ein Recht auf Berichtigung, Sperrung oder Löschung dieser Daten. Hierzu sowie zu weiteren Fragen zum Thema personenbezogene Daten können Sie sich jederzeit unter der im Abschnitt 1 angegebenen Adresse an uns wenden.</p>
              </div>

              <div>
                <h3 class="text-xl font-semibold text-slate-900 mb-3">7. Änderung dieser Datenschutzerklärung</h3>
                <p>Wir können diese Datenschutzerklärung jederzeit ohne Vorankündigung anpassen. Es gilt die jeweils aktuelle, auf unserer Website publizierte Fassung.</p>
              </div>
            </div>

            <script>
              // Email obfuscation for legal email in Datenschutz section
              document.addEventListener('DOMContentLoaded', function() {
                const legalEmailElement = document.getElementById('legal-email-address');
                if (legalEmailElement) {
                  // Encoded email: legal@falx.ch
                  const user = 'legal';
                  const domain = 'falx.ch';
                  const email = user + '@' + domain;
                  
                  legalEmailElement.innerHTML = '<a href="mailto:' + email + '" class="text-red-600 hover:text-red-700 transition-colors">' + email + '</a>';
                }
              });
            </script>
          </div>
        </div>
      </section>

      <!-- Back to Top -->
      <div class="text-center">
        <a href="#" class="inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 transition-colors duration-200">
          <span>↑</span>
          <span>Zurück nach oben</span>
        </a>
      </div>

    </div>
  </main>

  <SimpleFooter client:idle />

  <!-- Smooth scroll CSS -->
  <style>
    html {
      scroll-behavior: smooth;
    }
  </style>
</BaseLayout>