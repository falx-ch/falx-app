---
// Astro wrapper component for Report Section
// This provides the static structure with minimal hydration
import type { Translations } from '@/lib/i18n';

export interface Props {
  class?: string;
  translations: Translations;
}

const { class: className, translations } = Astro.props;

// Import the interactive React components
import CostCalculator from './cost-calculator.tsx';
import ReportSectionCards from './report-section-cards.tsx';
---

<section 
  id="report"
  class={`min-h-screen calculator-gradient text-white flex items-center justify-center relative overflow-hidden py-16 lg:py-24 ${className || ''}`}
>
  <!-- Soft neutral calculator background -->
  <div class="absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(55,65,81,0.10),transparent_60%)]" />
  <div class="absolute inset-0 bg-[radial-gradient(circle_at_70%_80%,rgba(75,85,99,0.06),transparent_60%)]" />
  
  <!-- Content layer with centered heading and two-column layout -->
  <div class="relative z-10 max-w-7xl mx-auto px-6 lg:px-8 w-full">
    <!-- Static heading - centered above everything -->
    <div class="text-center mb-12 lg:mb-16">
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-light mb-4 lg:mb-6 tracking-tight leading-tight">
        {translations.report_section.headline} <br />
        <span class="font-serif italic font-medium text-red-300">{translations.report_section.headline_accent}</span> {translations.report_section.headline_suffix}
      </h2>
      <p class="text-white/60 text-base lg:text-lg leading-relaxed max-w-3xl mx-auto text-center lg:text-center">
        <span class="block text-center" set:html={translations.report_section.description}></span>
      </p>
    </div>

    <!-- Two-column layout for calculator and cards -->
    <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 lg:gap-16 items-start w-full">
      <!-- Left column - Interactive calculator component (60%) -->
      <div class="lg:col-span-3">
        <!-- Interactive component island - only hydrate when visible -->
        <CostCalculator client:visible />
      </div>

      <!-- Right column - Interactive problem indicators with animations (40%) -->
      <div class="lg:col-span-2 space-y-4 lg:space-y-6">
        <!-- Interactive cards component with GSAP animations -->
        <ReportSectionCards client:visible />
      </div>
    </div>
  </div>
</section>